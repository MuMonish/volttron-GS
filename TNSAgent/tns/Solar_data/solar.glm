#set profiler=1;

#set iteration_limit=50;

#set minimum_timestep=300;

#set relax_naming_rules=1;


clock {
	timezone PST+8PDT;
	starttime '2017-01-18 00:00:00';
	stoptime '2017-01-20 00:00:00';
}

module powerflow {
	solver_method NR;
	default_maximum_voltage_error 1e-6;
	NR_superLU_procs 1;
	line_capacitance true;
};

module residential;

module generators;

module tape;

module assert;

module climate;

object climate {
	name Pullman;
	tmyfile "727857TYA.tmy3";
	interpolate "QUADRATIC";
}

object meter {
	name Node_Solar_link;
	phases ABCN;
	nominal_voltage 7970.00;
	voltage_A 7970.00+0d;
	voltage_B 7970.00-120.0d;
	voltage_C 7970.00+120.0d;
	bustype SWING;
}

object solar {
	name pv_researchPark;
	parent inv_researchPark;
	phases ABC;
	weather "Pullman";
	area 720 m^2;
	tilt_angle 45.0;
	efficiency 0.1;
	orientation_azimuth 180;
	orientation DEFAULT;
	SOLAR_TILT_MODEL SOLPOS;
	SOLAR_POWER_MODEL FLATPLATE;
	latitude 46.744592;
	longitude -117.160364;
	generator_status ONLINE;
	panel_type SINGLE_CRYSTAL_SILICON;
	generator_mode SUPPLY_DRIVEN;
}

object inverter {
	name inv_researchPark;
	phases ABC;
	inverter_type FOUR_QUADRANT;
	generator_status ONLINE;
	power_factor 1.0;
	parent Node_Solar_link;
	rated_power 80000 VA;
	inverter_efficiency 0.95;
	four_quadrant_control_mode CONSTANT_PQ;
	P_Out 80000;
}

object recorder {
	name solar_recorder;
	parent Node_Solar_link;
	property measured_real_power;
	interval 600;
	file inv_researchPark.csv;
}

object recorder {
	name solarpanel_recorder;
	parent pv_researchPark;
	property P_Out;
	interval 600;
	file TotalPower_solar_panel_load.csv;
}

